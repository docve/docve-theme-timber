<script>
  import Sidebar from "./Sidebar.svelte";
  import Header from "./Header.svelte";

  let showSidebar = true;
  let showSidebarMobile = false;
  let toggleSidebar = () => (showSidebar = !showSidebar);

  function appHeight() {
    document.documentElement.style.setProperty(
      "--app-height",
      `${window.innerHeight}px`
    );
    document.documentElement.style.setProperty(
      "--app-width",
      `${window.innerWidth}px`
    );
  }
  appHeight();
  window.addEventListener("resize", appHeight);
</script>

<div class="grid grid-rows-layout h-max">
  <Header on:clickSidebarButton="{() => toggleSidebar()}">
    <button
      on:click="{() => (showSidebarMobile = !showSidebarMobile)}"
      type="button"
      class="inline-flex md:hidden justify-center rounded-md border border-gray-300 shadow-sm px-2.5 py-1 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500">
      Toggle Sidebar
    </button>
  </Header>
  <div class="flex relative">
    <div
      class="h-full w-full md:w-60 flex flex-col transition-all duration-300 ease-in-out absolute md:relative transform md:transform-none z-20 {showSidebarMobile ? '' : '-translate-x-full'} {showSidebar ? '' : 'md:-ml-60'}">
      <Sidebar />
    </div>
    <div class="flex-1 overflow-auto">
      <div class="container mx-auto px-6 md:px-10 py-6">
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
        <div>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam
          assumenda consectetur, consequatur debitis ea eum in, nihil nostrum
          possimus provident quo quos rem repellendus rerum sunt tempora
          temporibus ullam voluptas!
        </div>
      </div>
    </div>
  </div>
</div>
